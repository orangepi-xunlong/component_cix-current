mutter (1:43.8-0+deb12u1+cix.2503.radxa) bookworm; urgency=medium

  * Bug fix on Mutter 43.8 release

 -- Cix Technology Group Co., Ltd <https://www.cixtech.com>  Thu, 06 Mar 2025 18:28:40 +0800

mutter (1:43.8-0+deb12u1+cix.2502.radxa) bookworm; urgency=medium

  * Rebuild by CIX.

 -- Cix Technology Group Co., Ltd <https://www.cixtech.com>  Mon, 10 Feb 2025 14:08:38 +0800

mutter (43.8-0+deb12u1) bookworm; urgency=medium

  [ Simon McVittie ]
  * d/control.in, d/gbp.conf: Use debian/bookworm branch
  * Apply changes from 43.7-2 to bookworm
    (Closes: #1035092, #1049934, #1042055)
  * New upstream stable release 43.8
    - Fix the ability to drag libdecor windows by their title bar on
      touchscreens (mutter#2872)
    - Fix flickering and rendering artifacts when using software rendering,
      for example on older Intel hardware unsupported by the Gallium i915
      driver (mutter#2602)
    - Improve GNOME Shell app grid performance by avoiding repainting
      monitors other than the one it is displayed on
      (partially fixes gnome-shell#6819)
    - Upstream CI adjustments not relevant to Debian
    - All other changes were previously included in 43.7-1, 43.7-2
  * d/patches: Drop patches that were included in the upstream release
  * Split the triple-buffering patch into its individual commits.
    This should hopefully make it easier to keep track of its status.

  [ Daniel van Vugt ]
  * Update triple-buffering-v4-43 patchset to 43.8-54-g95b2d2157c
    (2023-09-25)
    - d/p/triple-buffering/clutter-frame-clock-Fall-back-to-triple-buffering-not-dou.patch:
      Fall back to triple buffering, not double buffering, when the driver
      doesn't support GPU timestamps (Xorg, Raspberry Pi, others).
      This avoids lower than intended framerates, typically 30fps rather
      than 60fps. Change also included in 44.1-1.
      (LP: #2017137, #2017097)
    - d/p/triple-buffering/clutter-frame-clock-Avoid-rapidly-toggling-dynamic-max-re.patch:
      Fix increased mouse input latency after the above change.
      Change also included in 45.alpha and 44.3 upstream.
      (LP: #2023363)
    - d/p/triple-buffering/clutter-frame-clock-Record-measurements-of-zero-for-curso.patch:
      Fix mouse cursor stuttering when moving across animated UI elements,
      possibly a regression in 41.0. Change also included in 44.3-2.
      (LP: #2023766)

 -- Simon McVittie <smcv@debian.org>  Tue, 10 Oct 2023 09:51:59 +0100

mutter (43.7-2) unstable; urgency=medium

  * Team upload
  * d/patches: Update to upstream gnome-43 branch commit
    43.7-9-g3139cbb47c, excluding CI-only changes
    - d/p/output-kms-Use-meta_kms_connector_get_preferred_mode-in-i.patch:
      Make the choice of preferred video mode consistent between code
      paths, fixing choice of video mode on some monitors (mutter!3055)
    - d/p/cogl-gl-framebuffer-Fix-inverted-test-in-ensure_bits_init.patch:
      change was already included in 43.7-1, just update metadata
    - d/p/clutter-stage-Add-is-grabbed-property.patch,
      d/p/window-Postpone-focusing-until-grab-ended-if-uninteractab.patch:
      Give focus to new app windows when launched from the gnome-shell
      overview, fixing a regression in 43.3-5 and upstream 43.4
      (Closes: #1035092, #1049934)
    - d/p/tests-Introduce-and-use-a-custom-test-shell.patch,
      d/p/tests-test-shell-Emulate-overview-grabs.patch,
      d/p/tests-test-runner-Add-toggle_overview-command.patch,
      d/p/tests-Add-test-case-for-restoring-focus-after-overview.patch:
      Add unit test coverage for #1035092
  * d/p/tests-Reinstate-meta_test_get_plugin_name.patch:
    Reinstate a symbol in libmutter-test-11 removed by the above patches,
    in case a dependent package is using it
  * d/libmutter-test-11.symbols: Add a new symbol introduced by the test
    for #1035092

 -- Simon McVittie <smcv@debian.org>  Sun, 20 Aug 2023 11:35:31 +0100

mutter (43.7-1) unstable; urgency=medium

  * Team upload
  * New upstream stable release 43.7
    - Functionally equivalent to 43.6-1
  * d/p/wayland-outputs-Fix-potential-crash-when-output-has-no-mo.patch:
    Drop patch, applied upstream
  * d/gbp.conf, d/control.in: Use debian/trixie branch
  * d/p/cogl-gl-framebuffer-Fix-inverted-test-in-ensure_bits_init.patch:
    Add patch from upstream 45.beta to fix a test failure with recent Mesa
    (Closes: #1042055, LP: #2025287)
  * d/patches: Improve tracking of upstream status

 -- Simon McVittie <smcv@debian.org>  Fri, 18 Aug 2023 17:40:39 +0100

mutter (43.6-1~deb12u1) bookworm; urgency=medium

  * Rebuild for bookworm

 -- Simon McVittie <smcv@debian.org>  Sat, 10 Jun 2023 22:59:13 +0100

mutter (43.6-1) unstable; urgency=medium

  * New upstream stable release 43.5
    - Always update surfaces belonging to a window that is being recorded
      or included in a screencast, even if the window is not visible
      on a local display (mutter#2538, mutter!2789)
    - Export previously-private meta_window_has_pointer(), needed by
      screenshot UI fixes in gnome-shell 43.5 (mutter!2928)
      + d/libmutter-11-0.symbols: Update to add that symbol
    - All other changes were already present in 43.4-2
  * New upstream stable release 43.6
    - Fix a resource leak when a compositor view is destroyed (mutter!2991)
    - Fix a crash when headless gdm greeter via gnome-remote-desktop
      attempts to blank the screen (mutter#2841)
  * d/patches: Drop patches that were applied upstream
  * d/p/wayland-outputs-Fix-potential-crash-when-output-has-no-mo.patch:
    Backport patch from 44~beta to fix a crash during suspend/resume on
    some systems (mutter#2570, Closes: #1036268)

 -- Simon McVittie <smcv@debian.org>  Sat, 10 Jun 2023 21:17:19 +0100

mutter (43.4-2) unstable; urgency=medium

  * Team upload
  * d/patches: Update to upstream gnome-43 branch commit 43.4-5-gc35e9f8c0
    - d/p/clutter-actor-Get-next-action-from-list-before-handling-c.patch:
      Fix a use-after-free that was always a problem in theory, but causes
      crashes in practice with GLib 2.76.x (mutter!2955, gnome-shell#6552)
    - d/p/cursor-tracker-Don-t-leak-window-cursor-on-exit.patch:
      Fix a minor memory leak (mutter!2969)
    - d/p/wayland-cursor-surface-Update-cursor-on-dispose.patch:
      Fix a crash in rare situations involving Wayland cursor changes,
      and add test coverage (mutter!2969)
  * d/libmutter-11-0.symbols: Add new private symbols used by tests
    for the above changes
  * d/p/wayland-xdg-shell-Dismiss-instead-of-destroy-invalid-popu.patch:
    Backport a fix from upstream 44.x branch to fix popup-related crashes
    (mutter#2728, mutter!2940, Closes: #1033484)

 -- Simon McVittie <smcv@debian.org>  Fri, 21 Apr 2023 10:10:24 +0100

mutter (43.4-1) unstable; urgency=medium

  * Team upload
  * New upstream release
    - Improve performance by reducing memory bandwidth use on some GPUs
      (GNOME/mutter!2091)
    - Fix handling of rotated screens, for example on Pinephone Pro and
      Pinebook Pro (GNOME/mutter#2557)
    - Avoid warnings when destroying a ClutterText object with recent
      GLib versions (GNOME/mutter#2566)
    - Other changes were included in previous Debian packaging updates
  * Drop most patches, applied upstream
  * d/patches: Update to upstream gnome-43 branch commit 43.4-2-gba5cb0542
    - Fix a crash with newer GStreamer gtkwaylandsink (GNOME/mutter!2917)
    - Translation update: ab
  * Remove #1032388 from previous changelog entry.
    I hoped !2878 would fix both #1032388 and #1031945, but in fact it
    only fixes #1031945.

 -- Simon McVittie <smcv@debian.org>  Mon, 10 Apr 2023 14:07:33 +0100

mutter (43.3-5) unstable; urgency=medium

  * Team upload
  * d/patches: Use the same order in which patches were applied upstream
  * d/p/color-device-Make-sure-lcms_context-is-not-NULL.patch,
    d/p/color-device-Don-t-close-lcms-profile-on-error-from-cd_ic.patch:
    Use final version of these patches as applied upstream
  * d/p/Revert-x11-Do-not-move-X11-input-focus-during-grabs.patch,
    d/p/Revert-x11-events-Do-not-update-focus-XWindow-during-grab.patch,
    d/p/x11-Ignore-_NET_ACTIVE_WINDOW-client-messages-while-grabb.patch,
    d/p/core-Avoid-focusing-windows-on-map-during-grabs.patch:
    Backport upstream merge request !2878, fixing X11 focus regressions
    (Closes: #1031945)
  * d/p/tests-Use-a-more-interoperable-path-to-bash.patch:
    Fix path to interpreter in x11-test.sh instead of disabling it
    - d/p/tests-Disable-broken-test.patch: Drop patch, no longer needed

 -- Simon McVittie <smcv@debian.org>  Mon, 06 Mar 2023 11:35:23 +0000

mutter (43.3-4) unstable; urgency=medium

  * Team upload
  * d/p/color-device-Make-sure-lcms_context-is-not-NULL.patch,
    d/p/color-device-Don-t-close-lcms-profile-on-error-from-cd_ic.patch:
    Fix a double-free when loading the ICC profile from a device's EDID
    fails (Closes: #1031847)

 -- Simon McVittie <smcv@debian.org>  Thu, 02 Mar 2023 08:50:50 +0000

mutter (43.3-3) unstable; urgency=medium

  * Team upload
  * d/p/x11-Avoid-updating-focus-on-wayland-compositor.patch:
    Add patch from upstream fixing a focus-handling regression in
    Wayland sessions.
    In 43.3, switching from an Xwayland window to a native Wayland window
    would not always work.

 -- Simon McVittie <smcv@debian.org>  Sat, 18 Feb 2023 18:44:12 +0000

mutter (43.3-2) unstable; urgency=medium

  * Team upload
  * Mention LP: #1985089 in the 43.2-6 changelog
  * d/p/Support-Dynamic-triple-double-buffering.patch:
    Record the exact revision that was used (no content changes)
  * Remove Lintian overrides that are no longer necessary now that
    lintian/lintian!452 is in a release
  * Upload to unstable

 -- Simon McVittie <smcv@debian.org>  Thu, 16 Feb 2023 09:37:11 +0000

mutter (43.3-1) experimental; urgency=medium

  * Team upload
  * Initially uploading to experimental pending feedback on whether the
    downclocking patch needs adjustment for 43.3

  [ Daniel van Vugt ]
  * d/p/Support-Dynamic-triple-double-buffering.patch:
    Improve downclocking (triple to double buffering) support so it
    happens sooner and more reliably. This reduces input latency during
    light rendering as well as reducing CPU usage of cursor movement.
    Also correct the origin information.

  [ Simon McVittie ]
  * New upstream release
    - Make sure there is always a non-null list of extensions
      (LP: #1994011)
    - Fix a crash when colour management operations are cancelled
      (mutter!2794)
    - Fix lockup when pointer crosses the intersection of 4 displays
      (mutter#2598)
    - Fix some small memory leaks (mutter!2811)
    - Fix a misleading error message (mutter!2811)
    - Revert a problematic change to the handling of frame event timing
      (mutter!2835)
    - On X11, Don't allow focus to be taken by an app during grabs
      (gnome-shell#5932, mutter!2832)
    - Many changes that were already in 43.2-6
  * Drop patches that were applied upstream
  * d/p/wayland-Don-t-overwrite-surface-offsets.patch:
    Add patch from upstream to fix drag-and-drop cursor position on Wayland
    (mutter#2622)
    This updates us to upstream gnome-43 branch commit 43.3-1-ga8a348185b.
  * d/control.in, d/gbp.conf, d/watch: Set up branches for 43.x in bookworm.
    This leaves the default branch available for GNOME 44 betas in
    experimental and Ubuntu.

 -- Simon McVittie <smcv@debian.org>  Wed, 15 Feb 2023 17:00:58 +0000

mutter (43.2-6) unstable; urgency=medium

  * Team upload
  * d/patches: Update to upstream gnome-43 branch commit 43.2-29-g35763ca0cc
    - Avoid lag while altering the split point between edge-tiled windows
      on the left and right halves of the screen
      (mutter#2246, LP: #1985089)
    - Disable direct scanout optimization during drag-and-drop to ensure
      the dragged content is visible (mutter#2470)
    - Performance improvements (mutter!2671)
    - Enable the direct scanout optimization for fullscreen mpv in Wayland
      (mutter#2550)
    - Revert an optimization which caused some extensions to regress
    - Prevent mouse cursor disappearing for windows that appeared while a
      menu was open (mutter#2553)
    - Make pointer confinement compatible with subsurfaces (mutter#2223)
    - Report width and height of rotated screens consistently with the spec
      and other compositors (mutter#2519)
    - Avoid unintended focus change on secondary display when switching
      workspace on primary display (mutter#2548)
    - Make workspace-switching more resilient against crashes (mutter!2707)
    - Fix a crash during screen recording at certain resolution/scale
      combinations (mutter#2542)
    - Fix cursor position scaling while recording a single window
      (mutter#1541)
    - Avoid integer overflow during screencasting (mutter!2762)
    - Ensure cursor reappears when using touchscreen and then mouse in X11
      (mutter#2344)
    - Ensure keyboard accessibility works at beginning of session if
      previously enabled in configuration (mutter#1858)
    - Fix mapping between graphics tablets and displays (mutter!2767)
    - Fix a small memory leak (mutter!2799)
    - Translation updates: ru
  * d/patches: Sort closest-to-upstream first
  * d/patches: Improve metadata
  * d/control.in: Drop Multi-Arch from libmutter-test-11.
    The test library is not usefully multiarch, because it depends on a
    matching architecture of mutter.
  * lintian-overrides: Silence a false positive for libegl1-mesa-dev
    libegl1-mesa-dev is not transitional or obsolete, see lintian/lintian!452.
  * d/copyright: Add a missing short name field
  * d/control.in: Standards-Version: 4.6.2 (no changes required)

 -- Simon McVittie <smcv@debian.org>  Sun, 29 Jan 2023 15:26:48 +0000

mutter (43.2-5) unstable; urgency=medium

  [ Daniel van Vugt ]
  * Update Support-Dynamic-triple-double-buffering.patch.
    Fix tearing on monitors attached to secondary GPUs (LP: #1999216)
  * Add patch for cursor-renderer-native to workaround broken arm64 drivers.
    By forcing cursors to use dumb buffers. At least until Mesa gets fixed
    for panfrost, vc4, v3d... (LP: #1988859)

 -- Jeremy Bicha <jbicha@ubuntu.com>  Mon, 23 Jan 2023 11:30:06 -0500

mutter (43.2-4) unstable; urgency=medium

  * Team upload
  * Mark xwayland test-case as known to be flaky on 32-bit ARM.
    Mitigates: #1026445

 -- Simon McVittie <smcv@debian.org>  Tue, 20 Dec 2022 12:48:02 +0000

mutter (43.2-3) unstable; urgency=medium

  * Team upload
  * Rebuild source package with non-expired signing key

 -- Simon McVittie <smcv@debian.org>  Sun, 18 Dec 2022 22:32:32 +0000

mutter (43.2-2) unstable; urgency=medium

  * Team upload
  * d/p/workspace-Don-t-crash-on-invalid-argument-to-meta_workspa.patch:
    Add proposed patch to avoid crashing on an invalid argument
  * d/p/tests-Break-up-stacking-installed-tests-into-more-smaller.patch:
    Add proposed patch to have more, smaller installed-tests.
    As well as doing what it was intended to do, this also avoids a crash
    during autopkgtest. (Mitigates: #1024438)

 -- Simon McVittie <smcv@debian.org>  Sun, 18 Dec 2022 21:29:01 +0000

mutter (43.2-1) unstable; urgency=medium

  * New upstream release
  * Update symbols files

 -- Jeremy Bicha <jbicha@ubuntu.com>  Sat, 10 Dec 2022 16:46:15 -0500

mutter (43.1-2) unstable; urgency=medium

  * Team upload
  * Disable restore-size test.
    This avoids intermittent FTBFS, especially on armel and armhf.
  * Build-/test-depend on dbus-daemon instead of dbus
  * d/upstream/metadata: Add Repository field

 -- Simon McVittie <smcv@debian.org>  Tue, 15 Nov 2022 10:32:45 +0000

mutter (43.1-1) unstable; urgency=medium

  * Team upload
  * New upstream release
    - Among other fixes, this avoids a fullscreen window on one display
      being replicated on another display (Closes: #1023256, LP: #1990563)
  * Refresh patch series
    - Drop patches that were included upstream
    - Update triple-buffering patch from GNOME/mutter!1441
  * Set field Upstream-Name in debian/copyright.
  * d/upstream/metadata: Add
  * Update symbols file for new upstream release
  * Reduce entropy of .symbols file.
    The SONAME changed in version 43~beta, so there's no point in keeping
    track of whether symbols are older than that version.
    Similarly, if a symbol was introduced in a prerelease, we want
    dependent packages to depend on the final release, so there's little
    point in finer-grained tracking of which specific prerelease each
    symbol came from.

 -- Simon McVittie <smcv@debian.org>  Fri, 04 Nov 2022 20:09:07 +0000

mutter (43.0-3) unstable; urgency=medium

  * Cherry-pick patch to fix Night Light availability in GNOME Settings
    (Closes: #1020941) (LP: #1990207)
  * Cherry-pick patches to avoid crash when ICC color profile is invalid
    (Closes: #1021680) (LP: #1993114)

 -- Jeremy Bicha <jbicha@ubuntu.com>  Mon, 17 Oct 2022 06:57:50 -0400

mutter (43.0-2) unstable; urgency=medium

  * Release to unstable (Closes: #1009990, #1019266, #1020515)

 -- Jeremy Bicha <jbicha@ubuntu.com>  Tue, 27 Sep 2022 19:00:48 -0400

mutter (43.0-1) experimental; urgency=medium

  * Team upload

  [ Simon McVittie ]
  * Team upload
  * New upstream release
  * d/copyright: Update
  * Standards-Version: 4.6.1 (no changes required)
  * d/libmutter-11-0.symbols: Add new symbols

  [ Jeremy Bicha ]
  * Mark as Linux-any
    - Build tests indicate mutter doesn't work on Hurd or kFreeBSD
    - Mutter is only used by GNOME Shell and Budgie, neither of which
      are currently available on those architectures for other reasons

 -- Simon McVittie <smcv@debian.org>  Sun, 18 Sep 2022 20:18:26 +0100

mutter (43~rc-2) experimental; urgency=medium

  [ Simon McVittie ]
  * d/control: Drop compatibility with old libgdk-pixbuf2.0-dev package

  [ Marco Trevisan (Treviño) ]
  * debian/patches: Update triple-buffering patch against newest version
    (LP: #1969422, #1988625)

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Thu, 08 Sep 2022 17:35:16 +0200

mutter (43~rc-1) experimental; urgency=medium

  * New upstream release
  * Build-Depend on libcolord-dev & liblcms2-dev
  * debian/*.symbols: Update
  * Drop Consistently-pass-timestamp….patch: Applied in new release
  * Refresh 2 patches

 -- Jeremy Bicha <jbicha@ubuntu.com>  Tue, 06 Sep 2022 14:07:28 -0400

mutter (43~beta-4) experimental; urgency=medium

  [ Marco Trevisan (Treviño) ]
  * debian/control: Remove <!nocheck> from xvfb-run

  [ Jeremy Bicha ]
  * debian/tests/libmutter-11-dev: fix a reference to mutter-10

 -- Jeremy Bicha <jbicha@ubuntu.com>  Thu, 25 Aug 2022 05:28:09 -0400

mutter (43~beta-3) experimental; urgency=medium

  * Add patches from Ubuntu:
    - Support-Dynamic-triple-double-buffering.patch
    - backends-native-kms-crtc-Don-t-compare-gamma-values-on-un.patch
      + Avoid memory errors when comparing gamma values
    - wayland-data-device-Allow-any-drag-timestamp....patch
      + Allow any drag timestamp as drag start serial
  * debian/libmutter-11-0.symbols: Add new symbols from triple buffering patch

 -- Jeremy Bicha <jbicha@ubuntu.com>  Sun, 21 Aug 2022 12:27:28 -0400

mutter (43~beta-2) experimental; urgency=medium

  * Update mutter-10 to mutter-11 in more places

 -- Jeremy Bicha <jbicha@ubuntu.com>  Sun, 21 Aug 2022 10:35:35 -0400

mutter (43~beta-1) experimental; urgency=medium

  * New upstream release
  * Rename packages for API bump (mutter-10 -> mutter-11)
  * debian/libmutter-11-0.symbols: Update
  * debian/control.in: Bump minimum libwayland and wayland-protocols
  * Refresh patches
  * Add temporary patch to skip broken build test

 -- Jeremy Bicha <jbicha@ubuntu.com>  Tue, 16 Aug 2022 12:07:41 -0400

mutter (42.4-1) unstable; urgency=medium

  * New upstream release
  * debian/patches: Refresh
  * debian/libmutter-10-0.symbols: Sync with new and removed internal symbols

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Thu, 11 Aug 2022 19:21:12 -0400

mutter (42.3-2) unstable; urgency=medium

  * debian/libmutter-10-0.symbols: Add new symbols

 -- Jeremy Bicha <jbicha@ubuntu.com>  Sat, 16 Jul 2022 14:14:30 +0200

mutter (42.3-1) unstable; urgency=medium

  * New upstream release

 -- Jeremy Bicha <jbicha@ubuntu.com>  Thu, 14 Jul 2022 16:33:25 +0200

mutter (42.2-1) unstable; urgency=medium

  * New upstream release (LP: #1976381)
    - Fix crash when restarting GNOME Shell on Xorg (LP: #1969893)

 -- Jeremy Bicha <jbicha@ubuntu.com>  Tue, 31 May 2022 10:10:28 -0400

mutter (42.1-1) unstable; urgency=medium

  * New upstream release
    (LP: #1972726, #1967274, #1965557, #1969574, #1948410, #1967219, #1971693)
  * Drop patches applied in new release
  * debian/libmutter-10-0.symbols: Add new symbol
  * debian/libmutter-10-0.symbols: Drop a symbol that was only in experimental
  * Add Breaks against old gtk3 & gtk4 versions.
    See Ubuntu bug 1972721
  * Release to unstable

 -- Jeremy Bicha <jbicha@ubuntu.com>  Mon, 09 May 2022 16:51:12 -0400

mutter (42.0-5) experimental; urgency=medium

  * Team upload
  * d/patches: Update to upstream commit 42.0-74-g6c8e8fbba
    - Bug fixes targeted for 42.1
    - d/p/clutter-stage-Repick-when-pointer-actor-goes-unmapped.patch:
      Replace with the version that was applied upstream
    - d/p/core-Account-ClutterStage-grabs-on-Wayland-key-focus-sync.patch:
      Mark as applied upstream

 -- Simon McVittie <smcv@debian.org>  Mon, 25 Apr 2022 10:04:42 +0100

mutter (42.0-4) unstable; urgency=medium

  * Team upload
  * d/patches: Update to upstream commit 42.0-55-gbe9deeba0
    - Update translations
    - Update upstream status of cherry-picked patches
    - Add various bug fixes including LP: #1959888, LP: #1964037
  * d/p/core-Account-ClutterStage-grabs-on-Wayland-key-focus-sync.patch:
    Add patch proposed upstream to fix grabs vs. system-modal prompts.
    This is particularly annoying when using pkexec, or when using gcr as
    a passphrase prompt for PGP, ssh and/or sudo.
    (Closes: #1008998, LP: #1964442)

 -- Simon McVittie <smcv@debian.org>  Tue, 19 Apr 2022 11:54:56 +0100

mutter (42.0-3) unstable; urgency=medium

  [ Marco Trevisan (Treviño) ]
  * debian/patches: Cherry-pick upstream fixes targeting 42.1
  * debian/patches: Ensure repick happens on actors visibility changed
    (LP: #1964545)

  [ Jeremy Bicha ]
  * Release to unstable

 -- Jeremy Bicha <jbicha@ubuntu.com>  Mon, 28 Mar 2022 09:34:27 -0400

mutter (42.0-1) experimental; urgency=medium

  [ Jeremy Bicha ]
  * New upstream release

  [ Marco Trevisan (Treviño) ]
  * debian/patches: Skip monitor-size tests that may fail on autopkgtest

 -- Jeremy Bicha <jeremy.bicha@canonical.com>  Mon, 14 Mar 2022 09:28:30 -0400

mutter (42~rc-1) experimental; urgency=medium

  * New upstream release
  * debian/control.in: Add Breaks: gnome-shell (<< 42~rc)
  * debian/control.in: Bump minimum meson, libwayland-dev & wayland-protocols
  * debian/libmutter-10-0.symbols: Add new symbols
  * Refresh patches

 -- Jeremy Bicha <jeremy.bicha@canonical.com>  Wed, 09 Mar 2022 13:11:43 -0500

mutter (42~beta-1) experimental; urgency=medium

  [ Marco Trevisan (Treviño) ]
  * New upstream release:
    - Implement a new Clutter grab API
    - Support KMS testing via QEMU
    - Add support for privacy screen
    - Allow changing monitor configuration policy
    - Fix possible missed clicks on menus
    - Place popups on the same monitor as the anchor rect (LP: #1930567)
    - Announce DMA-BUF support via pipewire
    - Raise the file descriptor limit of the wayland compositor
    - Fix resetting idle time on lid open
    - Reset idletime when unplugging the power cable
    - Keep a single cursor sprite visible with tablets
    - Sync keyboard LEDs after layout changes (LP: #1830637)
    - Honor window input area in picking
    - Handle mixture of keycombo/no action in pad rings/strips
    - Fix videos in Firefox stuttering in overview
    - Fix X11 middle button emulation setting
    - Fix crash on empty frame info queue (LP: #1960585)
    - Fix window size after returning from fullscreen (LP: #1947467)
    - Don't change workspaces of unmanaged windows (LP: #1933996)
    - Ensure constraints after client resize (LP: #1917939)
  * debian/watch: Accept pre-release version
    Can still use gbp import --upstream-version=XX.Y to get stable only
  * debian: Rename packages to use mutter-10 API
  * debian/rules: Compute mutter API version on unstable releases too
  * debian/control: Update dependencies
  * debian/patches: Refresh and update to latest code
  * debian/libmutter-(test-)10.symbols: Update

  [ Jeremy Bicha ]
  * Update autopkgtest & lintian override for new version

 -- Jeremy Bicha <jeremy.bicha@canonical.com>  Fri, 18 Feb 2022 07:32:24 -0500

mutter (41.3-3) unstable; urgency=medium

  * Build-Depend on xcvt instead of xserver-xorg-core (Closes: #1005299)

 -- Jeremy Bicha <jeremy.bicha@canonical.com>  Fri, 11 Feb 2022 07:48:31 -0500

mutter (41.3-2) unstable; urgency=medium

  * Team upload

  [ Simon McVittie ]
  * Adjust previous changelog entry to mention Launchpad bug 1872870
    against the correct bullet point
  * d/control.in: Build-depend on sysprof as well as
    libsysprof-capture-4-dev.
    The D-Bus interfaces are currently in sysprof, although arguably they
    should move to a -dev package.

  [ Marco Trevisan (Treviño) ]
  * debian/control: Depend on xvfb even on nocheck, as it's checked during
    configuration

 -- Simon McVittie <smcv@debian.org>  Mon, 07 Feb 2022 18:55:58 +0000

mutter (41.3-1) unstable; urgency=medium

  * New upstream release:
    - Check keyboard serials for activation
    - Fix mixed up refresh rates in multi-monitor setups (LP: #1788535)
    - Allow disabling HW cursors
    - Improve damage handling
    - Consider xrandr flags for advertised modes
    - Ensure constraints after client resize
    - window-group: Disable culling when rendering clone to offscreen buffer
      (LP: #1872870)
    - Fix workspace switch animation in default plugin
    - Fix unfullscreening of window that were mapped fullscreen
    - Fix DMA-BUF screencasts with unredirected fullscreen windows
    - Fix orientation changes on devices with 90°

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Tue, 25 Jan 2022 03:26:38 +0100

mutter (41.2-2) unstable; urgency=medium

  * Team upload
  * d/p/Consistently-pass-timestamp-as-uint64-when-creating-MetaS.patch:
    Add proposed patch to fix FTBFS on 32-bit architectures
  * d/patches: Update to 41.2-6-g7b64c159a
    - Surface damage viewport improvements
  * Update patch metadata with upstream status

 -- Simon McVittie <smcv@debian.org>  Wed, 22 Dec 2021 19:47:37 +0000

mutter (41.2-1) unstable; urgency=medium

  * Team upload

  [ Simon McVittie ]
  * New upstream release
  * d/patches: Drop patches that were applied upstream
  * d/patches: Update to upstream gnome-41 branch commit 41.2-3-g5d0c26631
    - wayland: Check keyboard serials for activation
    - Sync refresh rate to the correct monitor for maximized/full-screen
      apps in a multi-monitor layout
    - Add a debug environment variable to disable hardware cursors for
      faulty hardware and drivers

  [ Laurent Bigonville ]
  * debian/rules: Disable systemd support on non-linux architectures

 -- Simon McVittie <smcv@debian.org>  Wed, 22 Dec 2021 10:57:19 +0000

mutter (41.1-1) unstable; urgency=medium

  * Team upload
  * New upstream release
  * Drop a patch that came from upstream
  * Update Lintian overrides
  * Replace patches for #995929 with the version that was applied upstream
  * Remove workaround for #994806
  * d/libmutter-9-0.symbols: Ignore removal of clutter_stage_capture_into.
    Nothing else in Debian references this symbol, except for forks of
    the mutter codebase.

 -- Simon McVittie <smcv@debian.org>  Fri, 05 Nov 2021 16:40:11 +0000

mutter (41.0-5) unstable; urgency=medium

  * Team upload
  * Merge packaging from unstable
    - No changes relative to 41.0-4, except for the changelog
  * Close #995929 via changelog.
    The patches in 41.0-4 seem to have been successful.
  * Release to unstable (starts transition: #996607)

 -- Simon McVittie <smcv@debian.org>  Sat, 16 Oct 2021 18:52:20 +0100

mutter (41.0-4) experimental; urgency=medium

  * Team upload
  * d/control.in: libmutter-test-9 Depends on mutter.
    It wants the libdefault.so plugin, which is in mutter.deb.
  * Update Lintian overrides for RUNPATH
  * d/patches: Another try at fixing #995929 (Closes: #995929)
  * d/rules: Disable gvfs when running unit tests

 -- Simon McVittie <smcv@debian.org>  Mon, 11 Oct 2021 11:41:12 +0100

mutter (41.0-3) experimental; urgency=medium

  * Team upload
  * d/p/tests-Change-how-we-wait-for-an-orientation-change.patch:
    Add patch attempting to fix #995929
  * d/p/tests-Add-additional-debug-in-wait_for_orientation.patch,
    d/p/tests-Watch-the-orientation-manager-independently.patch:
    Try to diagnose what's going on if #995929 is still not fixed

 -- Simon McVittie <smcv@debian.org>  Sun, 10 Oct 2021 21:05:02 +0100

mutter (41.0-2) experimental; urgency=medium

  * Team upload
  * Build-depend on libgl-dev instead of transitional libgl1-mesa-dev
  * (Build-)Depend on libgles-dev instead of transitional libgles2-mesa-dev
  * d/rules: Don't let log from flaky tests overwrite log from main tests
  * d/p/tests-dbus-runner-Make-sure-to-tear-down-even-on-test-fai.patch:
    Add patch from upstream to stop failing tests causing a timeout.
    Failing tests will generally still cause FTBFS, but failing immediately
    is more buildd-friendly than timing out.
  * d/p/tests-Don-t-use-TestEnvironment.patch,
    d/p/tests-Don-t-continue-if-setup-commands-fail.patch:
    Update patches for installed-tests to latest version submitted upstream
  * d/p/tests-Add-additional-debug-for-Debian-995929.patch:
    Add more debug logging to try to diagnose #995929

 -- Simon McVittie <smcv@debian.org>  Sat, 09 Oct 2021 18:54:23 +0100

mutter (41.0-1) experimental; urgency=medium

  * Team upload

  [ Jeremy Bicha ]
  * debian/watch: Watch for stable releases

  [ Simon McVittie ]
  * New upstream release
  * Update package names for ABI break
  * Update build-dependencies
  * d/copyright: Update
  * Rebase patch series
  * Update symbols file
  * d/p/debian/synaptics-support.patch:
    Stop patching in Xorg synaptics driver support.
    Upstream rejected this patch back in 2018, but we continued to apply it
    as a transitional step for Ubuntu 18.04. Since then we've had stable/LTS
    releases of Debian 10, Ubuntu 18.04, Debian 11 and Ubuntu 20.04,
    libinput has improved, and both Debian and Ubuntu have switched to
    running GNOME in Wayland mode by default; let's have another try at
    following upstream on this. (Closes: #993171)
  * d/rules: Use upstream driver selection, except on 32-bit ARM.
    Specifying -Ddefault_driver=gl on x86 (and other architectures that are
    not 32-bit ARM) is no longer the same as the upstream default: the
    upstream default is now gl3, meaning modern OpenGL, whereas the gl driver
    is legacy (pre-3.2) OpenGL. Assume upstream are doing this for a reason.
    For now we continue to specify -Ddefault_driver=gles2 on 32-bit ARM, and
    apply the patch that adds the default_driver option, because 32-bit ARM
    has historically been an exception to the usual rules.
  * Add test-dependency on python3-dbus, python3-dbusmock
  * d/p/meta-dbus-runner-Import-importlib.util.patch:
    Add patch to fix test failure by working around #994806
  * d/p/tests-Don-t-use-TestEnvironment.patch,
    d/p/tests-Don-t-continue-if-setup-commands-fail.patch:
    Add patch to avoid using TestEnvironment.
    This works around a gnome-desktop-testing bug.
  * Add Lintian override for another RUNPATH in the tests.
    As with the existing tests, this is necessary to use mutter's fork of
    clutter and cogl.
  * Standards-Version: 4.6.0 (no changes required)
  * Put the new libmutter-test-9 in its own binary package.
    To avoid micro-packages, this includes the -dev files too; there is no
    explicit dependency on libmutter-9-dev, but packages compiling against
    this library are expected to build-depend on both. Outside mutter
    itself, it is only expected to be used by gnome-shell.

 -- Simon McVittie <smcv@debian.org>  Tue, 21 Sep 2021 18:44:18 +0100

mutter (40.5-1) unstable; urgency=medium

  * New upstream release:
    - Fix monitor screencast scanouts
    - Fix middle-click emulation support on X11

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Fri, 24 Sep 2021 21:11:07 +0200

mutter (40.4-2) unstable; urgency=medium

  * Team upload

  [ Jeremy Bicha ]
  * Build-Depend on libsysprof-capture-4-dev instead of sysprof

  [ Simon McVittie ]
  * Upload to unstable, part of transition #992870

 -- Simon McVittie <smcv@debian.org>  Sat, 11 Sep 2021 21:34:10 +0100

mutter (40.4-1) experimental; urgency=medium

  * Team upload
  * New upstream release
    - Don't require a newly attached buffer to apply state
    - Fix upside-down Xshape surface with EGLstream
    - Handle failure to allocate offscreen
    - Improve window state checks
    - Fix area-based screencast recording for unredirected windows such
      as fullscreen games
    - Fix ability to map a graphics tablet to a monitor
    - Fix a crash if scanout fails unexpectedly
    - Fix a logic error in determining number of input device modes
    - Translation updates
  * Don't let debhelper 13.4+ make all of /usr/libexec executable.
    This is not what we want for installed-tests' associated data.
  * Add a lintian override for dh-exec-subst-unknown-variable

 -- Simon McVittie <smcv@debian.org>  Tue, 31 Aug 2021 10:14:04 +0100

mutter (40.2.1-1) experimental; urgency=medium

  * New upstream release
  * debian/patches: Refresh

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Wed, 16 Jun 2021 01:36:22 +0200

mutter (40.2-1) experimental; urgency=medium

  * New upstream release:
    - Fix mouse position in remote desktop with fractional scaling
    - Fix fd leak
    - Disable KMS modifiers on radeon driver
    - Fix adding virtual monitor to physical session
    - Unbreak press-drag-release to pop up and select right click menus
    - Fix VKMS detection
  * debian/patches: Refresh, dropping applied upstream
  * d/p: Mark view-verification tests as incomplete in big-endian archs.
    Saved pixmaps are invalid in big-endian architectures, so let's disable
    the tests for now, checking only the basic metadata but not comparing
    the contents.

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Tue, 15 Jun 2021 22:07:25 +0200

mutter (40.1-1) experimental; urgency=medium

  [ Marco Trevisan (Treviño) ]
  * New upstream release:
    - Only snap to window edges when CTRL is pressed (LP: #1727225)
    - Fix viewport of offscreen effects (LP: #1825126)
  * debian: Update library name to follow soname (mutter-8)
  * debian/control: Bump dependencies to match upstream requirements
  * debian/patches:
    - Refresh
    - Do not run screencast tests.
      They require to have a full running pipewire (that requires a system
      dbus daemon) so, we can't easily get one up and running while building.
  * debian/libmutter-8-0.symbols: Sync with new library symbols
  * debian/control: Do not break on old gnome-shell versions
  * debian: Enable sysprof profiler on linux
  * debian/libmutter-8-0.symbols: Add new cogl trace symbols
  * debian/rules: Enforce symbols checking via higher gen symbols check level
  * debian/patches: Fix failing installed tests and ensure they work with runner
  * debian: Enable installed tests and package them in mutter-8-tests
  * debian/tests: Run installed tests as part of the autopkg tests
  * debian/control: Add dependency on xwayland to mutter-tests
  * debian/tests: Use multiple stanzas to run the autopkg tests
  * debian/rules: disable native tests on non-linux
  * debian/control: Depend on binary version for mutter package
  * debian: Use dh-exec to install linux-only files
  * debian/libmutter-8-0.symbols: Mark more symbols as linux-only
  * debian/mutter-8-tests.lintian-override: Use versioned package name

  [ Laurent Bigonville ]
  * debian/watch: Updated to follow the new versioning scheme
  * Remove Conflicts for old libmutter-*-dev packages

 -- Laurent Bigonville <bigon@debian.org>  Thu, 27 May 2021 21:31:05 +0200

mutter (3.38.6-2) unstable; urgency=medium

  * Team upload
  * d/p/monitor-manager-Don-t-include-generated-code-in-header-fi.patch:
    Add patch from upstream 40.1 to fix FTBFS seen on s390x.
    Thanks to Adrian Bunk.

 -- Simon McVittie <smcv@debian.org>  Thu, 26 Aug 2021 16:12:19 +0100

mutter (3.38.6-1) unstable; urgency=medium

  [ Marco Trevisan ]
  * d/gbp.conf, d/control.in: Update VCS details for debian/unstable branch

  [ Simon McVittie ]
  * New upstream release
    - xwayland: Check permissions on /tmp/.X11-unix
    - Ensure valid window texture size after viewport changes
    - kms: Improve handling of common video modes that might exceed the
      possible bandwidth
    - Fix damage propagation for rotated transforms with viewport
    - Improve Wayland subsurface reordering
  * Update GLib build-dependency (no practical effect, the new dependency
    is already in bullseye)

  [ Laurent Bigonville ]
  * Fixes for non-Linux ports:
    - Build-depend on libegl1-mesa-dev on all architectures (not just Linux).
      It is required for EGL support.
    - Only build-depend on udev on Linux architectures
    - Only depend on libwayland on Linux architectures
    - Drop unnecessary -dev dependency on libudev-dev

 -- Simon McVittie <smcv@debian.org>  Thu, 26 Aug 2021 08:54:46 +0100

mutter (3.38.4-1) unstable; urgency=medium

  * Team upload
  * New upstream release
    - Fix Wayland spec compliance when reordering subsurfaces.
      This is likely to be required by future Firefox versions in native
      Wayland mode.
    - Many other fixes that we already had via debian/patches
  * Drop most patches, included in the new upstream release

 -- Simon McVittie <smcv@debian.org>  Wed, 17 Mar 2021 09:52:33 +0000

mutter (3.38.3-5) unstable; urgency=medium

  * Team upload

  [ Marco Trevisan (Treviño) ]
  * debian/patches: Include a missing commit from upstream gnome-3-38
    branch to fix X11 UI stutters

 -- Simon McVittie <smcv@debian.org>  Wed, 10 Mar 2021 09:37:00 +0000

mutter (3.38.3-4) unstable; urgency=medium

  * Team upload

  [ Marco Trevisan (Treviño) ]
  * debian/patches: cherry-pick more upstream gnome-3-38 fixes
    - Correctly restore focus to applications that use globally active
      input handling, such as AWT/Swing Java apps
    - Disable double buffered shadow buffering, which was intended to
      improve performance with e.g. llvmpipe but currently makes it worse
  * debian/tests: Adapt autopkgtest name and linked library to current soname
  * debian/tests/control: Update references to libmutter-7-dev

  [ Simon McVittie ]
  * d/patches: Update to commit 3.38.3-26-g30c542ddc from gnome-3-38 branch
    - Fix X11 frame timing getting stuck if frames are skipped, resulting
      in X11 applications not always being redrawn when they should be
    - Fix a crash when clicking below titlebar with broken GTK themes

 -- Simon McVittie <smcv@debian.org>  Tue, 09 Mar 2021 20:34:42 +0000

mutter (3.38.3-3) unstable; urgency=medium

  * Team upload
  * d/patches: Update to commit 3.38.3-20-g2818cfda8 from gnome-3-38 branch
    - Wayland geometry scale fixes
    - Fix a crash that can occur on resume from suspend
    - Fix drag-and-drop from X11 source to Wayland destination

 -- Simon McVittie <smcv@debian.org>  Tue, 23 Feb 2021 09:27:54 +0000

mutter (3.38.3-2) unstable; urgency=medium

  * Team upload
  * d/patches: Update to commit 3.38.3-12-g2d424a739 from gnome-3-38 branch
    - Cope with monitors with metacharacters in their EDID data
    - Don't crash if parsing monitor configuration fails
    - Don't crash if an extension tries to add the same window to a
      workspace more than once, such as auto-move-windows
    - Cope with monitor configuration changes during screencasting
    - Speed up workspace switching when many windows are open
    - Fix Xwayland windows not always appearing in the gnome-shell overview
    - Avoid warning spam and poor performance when unmanaging a window
      (probably Closes: #970295, LP: #1841774)

 -- Simon McVittie <smcv@debian.org>  Thu, 04 Feb 2021 10:26:19 +0000

mutter (3.38.3-1) unstable; urgency=medium

  * Team upload
  * d/watch: Only watch for 3.38.x versions
  * New upstream release

 -- Simon McVittie <smcv@debian.org>  Thu, 14 Jan 2021 20:13:35 +0000

mutter (3.38.2-1) unstable; urgency=medium

  * Team upload
  * New upstream release
    - Don't crash during screencasting if cursor is not available
    - Don't crash if a kernel bug results in appearing to have multiple
      builtin panels
    - Log warnings instead of crashing if user-defined keymap is
      misconfigured
    - Don't forget we have a touchscreen if a non-touchscreen input device
      is connected
    - Log warnings instead of crashing if invalid barriers are created
    - Otherwise functionally equivalent to 3.38.1-4
  * Drop patches cherry-picked from upstream or applied upstream
  * d/gbp.conf: Use upstream 3.38.x branch.
    Version 40~alpha was already released, so it's misleading to say that
    3.38.x is the latest.
  * Standards-Version: 4.5.1 (no changes required)
  * d/rules: Don't run tests if built with nocheck option
  * Upload to unstable

 -- Simon McVittie <smcv@debian.org>  Thu, 03 Dec 2020 10:23:26 +0000

mutter (3.38.1-4) experimental; urgency=medium

  * Team upload
  * Update to upstream gnome-3-38 branch, commit 3.38.1-50-gc70610c43
    - If cursor theme is missing, draw a grey semi-transparent square
      instead of crashing
    - Allow primary GPU to be overridden with a udev rule
    - Fix fullscreen toggle for some applications (Closes: #975453)
    - Only schedule frame drawing for each surface (window) according to
      one stage view (monitor)
    - Fix size hints for client-side-decorated windows
    - Avoid adding input devices too soon
    - Performance optimizations
    - Do not disable the X Security extension if Xwayland was built with it
  * Don't depend on transitional libgdk-pixbuf2.0-dev
  * Explicitly build-depend on gdk-pixbuf.
    Previously it was pulled in by some other dependency (presumably
    gnome-desktop3 and gtk), but mutter's build system checks for it, so
    we should build-depend on it here too.
  * d/p/clutter-frame-clock-Schedule-a-frame-at-least-once-per-se.patch:
    Add proposed patch to ensure frame clock does not stop (Closes: #974172)

 -- Simon McVittie <smcv@debian.org>  Wed, 25 Nov 2020 10:23:36 +0000

mutter (3.38.1-3) experimental; urgency=medium

  * Team upload
  * Update to upstream gnome-3-38 branch, commit 3.38.1-33-g067af969c
    - Prevent a use-after-free on (virtual) device removal
    - Prevent crash on startup caused by dispatching libinput events too
      early
    - If Wayland subsurfaces have circular relationships, disconnect the
      client instead of crashing
    - When resizing terminals interactively, don't offset the position
    - Fix broken timestamp behaviour if X11 timestamps overflow
    - Fix a memory leak
    - Ensure clock is updated when going from fullscreen app to overview
    - Fix artifacts around GNOME Shell magnifier cursor
    - Fix monitor tiling on X11
    - Configure input devices correctly in X11
      (LP: #1899206, LP: #1899509)
    - Avoid spurious warnings in log
      - Event does not have a stage: discarding
      - assertion 'CLUTTER_IS_STAGE (stage)' failed
    - Make sure build fails if Xwayland -initfd is requested but not
      available (not relevant in Debian, we don't request this yet)
    - Update translations: pt
  * d/p/backend-Don-t-pull-generated-headers-indirectly.patch:
    Add a patch from upstream git master to fix parallel builds

 -- Simon McVittie <smcv@debian.org>  Thu, 12 Nov 2020 18:17:44 +0000

mutter (3.38.1-2) unstable; urgency=medium

  * debian/patches: Wayland start Xwayland on public X11 sockets as well
    (LP: #1897224)
  * debian/patches: Don't override window tile monitor (LP: #1900009)
  * debian/patches: Fix resizing issues (LP: #1878293)

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Fri, 23 Oct 2020 12:38:01 +0200

mutter (3.38.1-1) unstable; urgency=medium

  * New upstream release:
    - Fix Night Light updates after DPMS (LP: #1894596)
    - Fix button scrolling on X11
    - Always use correct font-dpi setting on X11
    - Improve handling of scanout failures
    - Fix middle/right button mixup in scroll button assignment
    - Fix resizing of attached modal dialogs on wayland
    - Enable KMS modifiers on devices that need them
    - Fix IM handling on X11
    - Fix glitches in "undefined" screencast areas
    - Fix visual glitches on background with fractional scaling (LP: #1898080)
    - Fix using correct refresh rate under X11 (LP: #1898645)
    - Misc. bug fixes and cleanups
    - Plugged memory leaks
  * debian/patches: Refresh as per upstream changes
  * debian/mutter-common.install: Include mutter udev rules
  * debian/control: Add udev build-dependency

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Sun, 11 Oct 2020 01:43:05 +0200

mutter (3.38.0-2) unstable; urgency=medium

  * Team upload
  * Release to unstable (starts transition: #969321)
  * d/rules: Ignore test failures in flaky tests on all architectures.
    Upstream presumably marked them as flaky for a reason, and they do
    fail on amd64 when under load.
  * Revert "debian/watch: Watch unstable versions"

 -- Simon McVittie <smcv@debian.org>  Fri, 25 Sep 2020 10:53:27 +0100

mutter (3.38.0-1) experimental; urgency=medium

  * New upstream release:
    - screencast: Only use DMA buffers for i915
    - Fixed crashes
  * debian/patches: Refresh
  * d/p/input-mapper-Don-t-match-touchscreens-to-the-absence-of-a.patch:
    - Dropped, applied upstream

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Tue, 15 Sep 2020 15:45:52 +0200

mutter (3.37.92-2) experimental; urgency=medium

  * Team upload
  * d/p/input-mapper-Don-t-match-touchscreens-to-the-absence-of-a.patch:
    Add patch to work around a crash with gnome-remote-desktop

 -- Simon McVittie <smcv@debian.org>  Wed, 09 Sep 2020 12:00:31 +0100

mutter (3.37.92-1) experimental; urgency=medium

  * Team upload
  * New upstream release
    - Fix stale cursor positions in remote desktop sessions
    - xwayland: Add a setting to disable selected X extensions
    - Fix screencasting when using QXL
    - Cull actors that don't intersect with the redraw clip
    - Optimize painting of backgrounds when culling is unavailable
    - Improve support for Hangul input method
    - Support debug paint overlay for opaque regions
    - Fix launching flatpak applications when autostarting Xwayland
    - Add support for capture scanouts in screencasts
    - Allow integrated tablet devices to cycle outputs
    - Improve mapping input devices to the most relevant output
    - Only enable auto-rotation in touch mode
    - Fix various crashes
  * d/control.in: Update libgbm build-dependency
  * d/copyright: Update
  * d/control.in, d/rules: Enable Pipewire on Debian (but not Ubuntu).
    Now that we have Pipewire 0.3 in experimental, we can enable
    screencasting and remote desktop support.
  * debian/libmutter-7-0.symbols: Update

 -- Simon McVittie <smcv@debian.org>  Tue, 08 Sep 2020 15:50:11 +0100

mutter (3.37.91-1) experimental; urgency=medium

  * New upstream release
    - Support unredirecting fullscreen wayland surfaces
    - Support area screencasts
    - Allow inhibiting remote access
    - Drive each monitor by its own frame clock (LP: #1730460)
    - Fix copy/paste failures on X11 (LP: #1879968)
    - Make window-aliveness checks less aggressive
    - Limit mipmap levels when rendering background (LP: #1862308)
    - Remove more long-deprecated Clutter APIs
    - Support custom keyboard layouts in $XDG_CONFIG_HOME/xkb
    - Optimize resource scale computation for wayland fractional scaling
    - Support tap-button-map and tap-drag-lock touchpad settings
    - Fix wine copy & paste
    - Add API to launch trusted wayland clients
    - Invalidate offscreen effect cache on video memory purge (LP: #1855757)
  * debian: Update package and file names to mutter API version
  * debian/control: Bump dependencies to match upstream requirements
  * debian/clean: Remove as HOME and XRD are managed now by dh
  * debian/copyright: Avoid redundant globbing patterns
  * debian/gbp.conf: target upstream/latest branch
  * debian/libmutter-7-0.symbols: Update symbols file
  * debian/patches: Refresh
  * d/p/debian/tests-Tag-closed-transient-no-input-tests-as-flaky.patch:
    - Renamed into d/p/debian/tests-Tag-unstable-tests-as-flaky.patch
    - Reduced the number of "flaky" tests to the ones time-dependent only
  * debian/rules:
    - Compute and generate a MUTTER_API_VERSION and replace it everywhere
    - Remove XDG_RUNTIME_DIR wrapper workaround
    - Don't run tests at all in riscv64
    - Don't set again default configuration values (it makes the delta clearer)
    - Never ignore test failures in amd64
    - Remove test num processes re-configuration
    - Run tests in s390x, no failures currently
    - Don't test in alpha hppa powerpc sparc64 x32 (Closes: #959415)
  * debian/with-temp-xdg-runtime-dir: Dropped, new dh will handle it for us
  * debian/watch: Scan for all versions, not just the stable-branch
  * debian/*.install: Use dh variable substitution in install files

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Thu, 27 Aug 2020 16:39:49 +0100

mutter (3.36.6-1) unstable; urgency=medium

  * Team upload
  * New upstream release
  * Update symbols file
  * d/control.in, d/rules: Enable Pipewire on Debian (but not Ubuntu).
    Now that we have Pipewire 0.3, we can enable screencasting and remote
    desktop support again.

 -- Simon McVittie <smcv@debian.org>  Thu, 10 Sep 2020 12:46:31 +0100

mutter (3.36.5-1) unstable; urgency=medium

  * Team upload
  * New upstream release
    - Screencast fixes and improvements
    - Fix glitches when subsurfaces extend outside the toplevel
    - Improve background display in overview workspace switcher
    - Fix wine copy & paste
    - Plug memory leaks
  * Drop patches that were applied upstream

 -- Simon McVittie <smcv@debian.org>  Thu, 13 Aug 2020 10:19:59 +0100

mutter (3.36.4-1) unstable; urgency=medium

  * New upstream stable release (LP: #1887998)
    - Fix crash on area screenshots with fractional scaling
    - Do not paint textures of fully obscured windows
    - Turn off CRTCs as well when enabling DPMS
    - Improve selection support
    - Use a more appropriate combine function on opaque areas
    - Fix remote desktop being broken without screencast session
    - Fix popovers disappearing on wayland and HiDPI
    - Fixed crashes (LP: #1870867, LP: #1857947)
    - Plugged memory leaks
  * d/p/screen-cast-Let-the-reason-for-recording-determine-what-t.patch,
    d/p/screen-cast-src-Add-flag-to-maybe_record.patch,
    d/p/screen-cast-src-Fix-signedness-of-timestamp-field.patch,
    d/p/screen-cast-src-Make-record-functions-return-an-error-whe.patch,
    d/p/screen-cast-src-Make-the-two-record-vfuncs-more-similarly.patch,
    d/p/screen-cast-src-Record-follow-up-frame-after-timeout.patch,
    d/p/screen-cast-src-Remove-follow-up-timeout-source-on-disabl.patch,
    d/p/screen-cast-src-Use-G_USEC_PER_SEC-instead-of-1000000.patch,
    d/p/screen-cast-window-stream-src-Fix-indentation.patch:
    - Import more fixes for screencasting and remote desktop

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Fri, 17 Jul 2020 21:12:56 +0200

mutter (3.36.3-1) unstable; urgency=medium

  * New upstream release (LP: #1881971)
   - Broadcast clipboard/primary offers
   - Fix monitor screen cast on X11
   - Implement touch-mode detecation for the X11 backend (LP: #1880596)
   - Drop external keyboard detection from touch-mode heuristics
   - Fix leaked DMA buffers in screencasts
   - Fixed crashes

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Wed, 03 Jun 2020 23:33:29 +0200

mutter (3.36.2+12+gb425f1153-1) experimental; urgency=medium

  * Team upload
  * New upstream snapshot from the gnome-3-36 branch
  * d/p/backend-x11-Reintroduce-XInitThreads.patch:
    Drop patch, applied upstream

 -- Simon McVittie <smcv@debian.org>  Sat, 30 May 2020 15:12:09 +0100

mutter (3.36.2-3) unstable; urgency=medium

  [ Simon McVittie ]
  * d/rules, d/with-temp-xdg-runtime-dir: Create temporary XDG_RUNTIME_DIR
    debhelper 13.1 creates a temporary XDG_RUNTIME_DIR so we don't have to.
    Unfortunately, its absolute path is sufficiently long that the path to
    Mutter's Wayland display socket no longer fits in the 108 bytes allowed
    by struct sockaddr_un, causing FTBFS when the tests fail. Until this is
    fixed, we'll have to create our own XDG_RUNTIME_DIR with a shorter
    absolute path.
    Wrapping with-temp-xdg-runtime-dir around dh_auto_test doesn't work,
    because dh_auto_test will reset XDG_RUNTIME_DIR, so use
    meson test --wrapper to wrap with-temp-xdg-runtime-dir around the
    individual tests.
    (Works around: #961655)

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Wed, 27 May 2020 13:54:19 +0200

mutter (3.36.2-2) unstable; urgency=medium

  [ Daniel van Vugt ]
  * d/p/backend-x11-Reintroduce-XInitThreads.patch:
    Fix a very common crash when running in X11 (LP: #1877075)

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Tue, 26 May 2020 21:41:05 +0200

mutter (3.36.2-1) unstable; urgency=medium

  * Team upload

  [ Simon McVittie ]
  * New upstream stable release
    - Fix FTBFS with Wayland disabled (non-Linux kernels)
    - X11 copy/paste/selection fixes (LP: #1852183)
    - Fix freeze with some DisplayLink devices
    - Fix a memory leak
    - Synchronize shadows to server-side decorations
    - Fix overview key on X11 when using multiple keyboard layouts
    - Fix painting the redraw clip with the damage region
    - Fix capturing with multiple stage views
    - Fix screencasting of non-maximized windows (LP: #1873942)
    - Various misc fixes and cleanups (LP: #1874818)
    - Update translation: de

  [ Marco Trevisan (Treviño) ]
  * debian/libmutter-6-0.symbols: Update
  * debian/rules: Ignore build failures on riscv64

 -- Simon McVittie <smcv@debian.org>  Fri, 01 May 2020 11:26:55 +0100

mutter (3.36.1+git20200419-1) unstable; urgency=medium

  * Team upload

  [ Simon McVittie ]
  * New upstream snapshot from gnome-3-36 branch (3.36.1-42-gda9eb4718)
    - Fix trackball button scrolling
    - Fix tiled (MST) displays
    - Copy/paste fixes, particularly for large images and incremental
      transfers
    - Fall back to closed laptop lid configuration if no other available
      (LP: #1793496)

  [ Jeremy Bicha ]
  * Drop obsolete dh_strip dbgsym migration rule
  * Bump debhelper-compat to 13
    - dh_missing --fail-missing is the default
    - dh_auto_test has several default improvements
    - dh_autoreconf isn't needed with meson
  * debian/watch: Only watch for stable releases

 -- Simon McVittie <smcv@debian.org>  Tue, 21 Apr 2020 13:46:42 +0100

mutter (3.36.1-4) unstable; urgency=medium

  * Team upload
  * Merge changelog from unstable
  * Upload to unstable (starts transition: #954422)
  * Update to upstream gnome-3-36 branch, commit 3.36.1-17-g9a2471db4
    - Fix caps-lock state becoming confused on VT switch
  * d/gbp.conf: Follow upstream/3.36.x branch

 -- Simon McVittie <smcv@debian.org>  Fri, 10 Apr 2020 17:56:10 +0100

mutter (3.34.4-1) unstable; urgency=medium

  * Team upload
  * d/gbp.conf: Follow debian/unstable branch
  * New upstream release
  * d/patches: Apply post-release fixes up to 3.34.4-5-g2709a4ffb
  * Standards-Version: 4.5.0 (no changes required)

 -- Simon McVittie <smcv@debian.org>  Tue, 25 Feb 2020 16:26:10 +0000

mutter (3.36.1-3) experimental; urgency=medium

  * Team upload
  * Update to upstream gnome-3-36 branch, commit 3.36.1-16-gdb164bcfa
    - Fix a crash during X11 drag-and-drop, for example when dragging
      a JPEG file onto GIMP's splash screen
    - Fix a crash in X11 input device handling
    - Translate coordinates of absolute input devices for rotated screens

 -- Simon McVittie <smcv@debian.org>  Wed, 08 Apr 2020 11:18:37 +0100

mutter (3.36.1-2) experimental; urgency=medium

  * Team upload
  * Standards-Version: 4.5.0 (no changes required)
  * d/copyright: Consolidate entries and update
  * Update to upstream gnome-3-36 branch, commit 3.36.1-13-gbc47f0a1a

 -- Simon McVittie <smcv@debian.org>  Tue, 07 Apr 2020 18:27:45 +0100

mutter (3.36.1-1) experimental; urgency=medium

  * Team upload
  * New upstream release
  * d/copyright: Update
  * Refresh patches
  * Update symbols file.
    Note that this includes ABI breaks: some symbols that are only used
    internally have disappeared from mutter's private fork of Clutter and
    Cogl. The only user of this version of mutter is GNOME Shell, which
    does not use these symbols.
  * d/patches: Update from gnome-3-36 branch up to 3.36.1-8-ge339a57dd
  * d/p/clutter-stage-Don-t-assume-stage-relayouts-reallocate-eve.patch:
    Add patch proposed upstream to fix a gnome-shell crash with the
    "Native window placement" extension.

 -- Simon McVittie <smcv@debian.org>  Fri, 03 Apr 2020 14:23:52 +0100

mutter (3.36.0-2) experimental; urgency=medium

  * control: Build against gnome-desktop 3.36 and break old gnome-shell. So we
    get dependencies on libgnome-desktop-3-19. Otherwise we get two different
    versions of gnome-desktop loaded into GNOME Shell, which crashes. Break
    old gnome-shell for the inverse reason - it needs to be upgraded otherwise
    we get the mismatch the other way around.

 -- Iain Lane <laney@debian.org>  Mon, 16 Mar 2020 13:20:44 +0000

mutter (3.36.0-1) experimental; urgency=medium

  * New upstream release
    + Fix placement of popup windows in multi-monitor setups
    + Fix invisible mouse cursor on some hardware
    + Updated translations

 -- Andre Moreira Magalhaes <andre@endlessm.com>  Fri, 13 Mar 2020 19:36:29 +0000

mutter (3.35.92-1) experimental; urgency=medium

  * New upstream release
    + Add side channel for starting required X11 services
    + Allow remote desktop services to inhibit animations
    + Avoid flicker when (un)redirecting windows
    + Fix clipping glitches in long text entries
    + Fix visibility of initially hidden windows
    + Implement scaled/transformed hardware cursors
    + Let BindConstraints update the preferred size
    + Make check-alive timeouts configurable
    + Make each stage view correspond to a single CRTC
    + Make Xwayland startup asynchronous
    + Ping windows on every window focus
    + Remove overhead from hot code paths
    + Support synchronized wayland popup moving
    + Update screen-cast code to PipeWire 0.3 API
    + Use DMA buffers for screencasting if possible
  * d/p/*: Rebase
  * rules: Disable remote-desktop temporarily. This now requires pipewire 0.3
    which is not packaged yet and needs to be worked on
  * control: Bump wayland-protocols dep to 1.19 per meson.build
  * debian/libmutter-6-0.symbols: Add new symbols for this release. One symbol
    which was introduced in .90 was dropped; -6's ABI is not stable yet.

 -- Iain Lane <laney@debian.org>  Tue, 03 Mar 2020 16:34:25 +0000

mutter (3.35.91-1) experimental; urgency=medium

  * New upstream release
    - Fix clipboard handling when an app provides multiple types (LP: #1852183)
    - Fixed flickers around windows in Wayland sessions (LP: #1751593)
    - Fixed white Background when using scaling in vmware (LP: #1825842)
    - Fixed crash in meta_surface_actor_get_texture() (LP: #1859259)
    - Fixed Subpixel font rendering in shell panels (LP: #1836700)
    - Fixed bug causing workspaces not to be preserved on restart
      under X11 (LP :#1819890)
    - Using graphene (insted of cogl) for handling various primitives
    - Honor accelerometer orientation on monitor config changes
    - Make the cursor renderer use the transactional KMS API
    - Lots of crash fixes and cleanups
  * debian/patches:
    - refreshed
    - d/p/EGL-Include-EGL-eglmesaext.h.patch:
      + dropped, merged upstream
  * debian/control:
    - build-depend on graphene (1.9.3)
    - Add libgraphene-1.0-dev as libmutter-6-dev dependency
    - bump build dependency on meson 0.50
    - bump build dependency on libinput 1.7
    - bump package name to mutter-6
  * d/libmutter-6-0.symbols: update symbols

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Mon, 24 Feb 2020 17:42:35 +0000

mutter (3.34.3-1) unstable; urgency=medium

  * New upstream release
    + Fix window recording on HiDPI
    + Fix top-left pixel being insensitive to clicks (LP: #1849135)

 -- Iain Lane <laney@debian.org>  Mon, 06 Jan 2020 13:39:48 +0000

mutter (3.34.2-2) unstable; urgency=medium

  * d/p/EGL-Include-EGL-eglmesaext.h.patch: Cherry pick from master. This
    fixes the generated EGL includes for the move of exlext.h from mesa to
    libglvnd, which has just happened in Debian.

 -- Iain Lane <laney@debian.org>  Sun, 22 Dec 2019 15:42:09 +0000

mutter (3.34.2-1) unstable; urgency=medium

  * Team upload
  * New upstream release
    - d/libmutter-5-0.symbols: Update
    - d/copyright: Update
  * d/gbp.conf: Use upstream/3.34.x branch
  * Remove obsolete Lintian override
  * Standards-Version: 4.4.1 (no changes required)
  * d/tests: Use correct compiler for proposed autopkgtest
    cross-architecture testing support

 -- Simon McVittie <smcv@debian.org>  Mon, 16 Dec 2019 16:55:47 +0000

mutter (3.34.1+git20191107-1) unstable; urgency=high

  * New upstream snapshot
    - Fixes a regression from the previous upload, which caused a hang when
      interacting with the desktop icons.
  * x11-Update-X11-focus-before-updating-MetaDisplay-focus.patch: Drop. This
    was a cherrry-pick that is included in this snapshot.
  * debian/libmutter-5-0.symbols: Add new symbol in this snapshot

 -- Iain Lane <laney@debian.org>  Thu, 07 Nov 2019 11:10:59 +0000

mutter (3.34.1+git20191022-2) unstable; urgency=medium

  * debian/patches: Update X11 focus before display focus:
    - Fixes an infinite loop causing an hang when showing the "application is
      not responding" dialog (LP: #1845302)

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Fri, 25 Oct 2019 17:56:43 +0100

mutter (3.34.1+git20191022-1) unstable; urgency=medium

  * New upstream snapshot release
    + Fix night mode in wayland session (LP: #1847551)
    + Don't emit key-focus-out events on destroyed actors (LP: #1848119)
    + Fix an headers syntax error (LP: #1841709)
    + backends: Update inhibited state for the monitor and respect that state
    + clutter-backend-x11: Don't push keymap events to clutter
    + Fix drag and drop for applications in wayland
    + Avoid X11 roundtrips on underscanning checks

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Wed, 23 Oct 2019 10:53:23 +0100

mutter (3.34.1-3) unstable; urgency=medium

  * Bump meson test timeout multiplier from 4 to 6 for armel

 -- Jeremy Bicha <jbicha@debian.org>  Sun, 20 Oct 2019 22:48:29 -0400

mutter (3.34.1-1) unstable; urgency=medium

  * New upstream release
    + Fix focusing of Java applications (LP: #1847184)
    + Fix freeze of pointer event delivery on X11
    + Fix initial view perspective
    + Fix memory leak when using implicit animations
    + Fix _NET_ACTIVE_WINDOW emission
    + Fix numlock state for native backend (LP: #1845031)
    + Fix scaling of DND surface actors
    + Fix scaling of stylus input coordinates with HiDPI
    + Fix screenshots and window animations when scaled
    + Fix startup of X11 session services on wayland
    + kms: Predict state changes when processing update (LP: #1847044)
    + Optimize blitting of untransformed offscreen stage views
    + Re-enable coredumps when capabilities are set
  * Drop several upstream backports which are now applied
    - d/p/build-Compile-with-ffloat-store-on-x86-32-bit.patch
    - d/p/clutter-actor-Cancel-delayed-timelines-on-removal.patch
    - d/p/clutter-timeline-Don-t-emit-paused-signal-on-delayed-time.patch
    - d/p/clutter-timeline-Use-a-function-to-cancel-the-delay-timeo.patch
    - d/p/core-Split-x11-display-initialization-in-2-signals.patch
    - d/p/x11-Minor-refactor-of-input-focus-handling-code.patch
    - d/p/x11-Use-the-currently-focused-X-window-for-_NET_ACTIVE_WI.patch
  * rules: Skip tests when DEB_BUILD_OPTIONS=nocheck is set

 -- Iain Lane <laney@debian.org>  Wed, 09 Oct 2019 11:17:08 +0100

mutter (3.34.0-4) unstable; urgency=medium

  * Team upload.
  * Upload to unstable.

 -- Andreas Henriksson <andreas@fatal.se>  Mon, 30 Sep 2019 13:26:44 +0200

mutter (3.34.0-3) experimental; urgency=medium

  * d/p/clutter-*: Cherry-pick from upstream to fix a crash. During
    animations, which was particularly bad when using Dash-to-Dock in
    auto-hide mode. (LP: #1841794)

 -- Iain Lane <laney@debian.org>  Fri, 20 Sep 2019 16:08:03 +0100

mutter (3.34.0-2) experimental; urgency=medium

  * d/p/core-Split-x11-display-initialization-in-2-signals.patch: Cherry-pick.
    Fixes starting up of gsd-xsettings on Wayland. (LP: #1843107)

 -- Iain Lane <laney@debian.org>  Fri, 13 Sep 2019 11:10:15 +0100

mutter (3.34.0-1) experimental; urgency=medium

  [ Simon McVittie ]
  * libmutter-5-0: Add Breaks on apparmor (<< 2.13.3-5~).
    This ensures that #935058 has been fixed, so X11 apps with the X
    abstraction can read /run/user/1000/.mutter-Xwaylandauth.*
    (Closes: #939736)
  * d/tests: Add a superficial build-test for the -dev package.
    I'm deliberately not testing the included forks of clutter and cogl here
    since those are an implementation detail of Mutter.
  * Use default libexecdir.
    The version of the FHS used in Debian has supported this since
    Policy 4.1.5.
  * d/rules: Use a temporary home directory for build-time tests
  * d/clean: Clean up temporary home directory and XDG_RUNTIME_DIR
  * Standards-Version: 4.4.0 (no changes required)
  * Rewrite package descriptions based on the upstream README.
    This removes the strange breakfast cereal references, and reframes
    Mutter as primarily a shared library used by GNOME Shell and only
    secondarily a standalone window manager, matching its real upstream
    maintenance status.

  [ Iain Lane ]
  * d/p/x11*: Cherry pick fixes from upstream to fix focus order on X11
    (LP: #1842971)
  * New upstream release
    + Fix xdg-output v3 support
    + Fix crash when changing decoration state
    + Add and remove connectors on hot-plug
  * d/p/*: Drop upstream cherry-picks
  * d/p/build-Compile-with-ffloat-store-on-x86-32-bit.patch: Take from MR 785.
    This fixes the testsuite on i386, which is broken because of the use of
    x87 extended precision introducing rounding errors.

 -- Iain Lane <laney@debian.org>  Tue, 10 Sep 2019 11:46:06 +0100

mutter (3.33.92-1) experimental; urgency=medium

  * New upstream release
    + Add additional sysprof trace points
    + Add meta_window_actor_get_image()
    + Fix lost keyboard focus after DND
    + Fix position of drag surfaces
    + Implement geometric picking
    + Implement subsurface.place_below() for parents
    + Misc. pointer a11y improvements
    + Remove GLX "threaded swap wait" used on Nvidia
    + Restore inhibit shortcut for overlay key
    + Revert faulty optimization from !719
    + Turn MetaShapedTexture into a ClutterContent implementation
  * control: Bump libxi-dev per upstream
  * d/p/*: Refresh. In particular synaptics-support.patch needed rebasing.
    Hopefully this can be dropped soon.
  * d/p: Sync with upstream as of 5111e339487b4bfb4b90b3281d57b1ee4cbf7f95
  * d/libmutter-5-0.symbols: Refresh up to 3.33.92. There are dropped symbols
    here. As a reminder, libmutter5 is not considered ABI stable until 3.34.0

 -- Iain Lane <laney@debian.org>  Thu, 05 Sep 2019 15:25:59 +0100

mutter (3.33.91-1) experimental; urgency=medium

  [ Dmitry Shachnev ]
  * Update dh_girepository argument from mutter-4 to mutter-5

  [ Iain Lane ]
  * New upstream release
    + Fix primary selection copy and paste between X11 and wayland
    + Improve monitor hotplug support
    + Remove a source of frame skips
    + Fix windows being lowered after unmaximizing with double click
    + Remove Clutter API for global grabs
    + Improve processing of incompressible events
    + Add xdg-output v3 support
  * control: Bump BDs per upstream
  * debian/libmutter-5-0.symbols: Update for new/dropped symbols.
    The ABI of libmutter-5-0 is *not* considered stable until the final
    release.

 -- Iain Lane <laney@debian.org>  Fri, 23 Aug 2019 15:15:50 +0100

mutter (3.33.90-2) experimental; urgency=medium

  [ Marco Trevisan (Treviño) ]
  * debian/rules: Use more verbose logging, printing failure output

  [ Iain Lane ]
  * tests-Tag-closed-transient-no-input-tests-as-flaky.patch, rules: Tag some
    tests as 'flaky' and run them non-fatally.
  * rules: Add mips64el to mips arches to not run tests on

 -- Iain Lane <laney@debian.org>  Wed, 14 Aug 2019 16:26:24 +0100

mutter (3.33.90-1) experimental; urgency=medium

  [ Marco Trevisan (Treviño) ]
  * New upstream release
    + Avoid repainting covered areas
    + Start Xwayland on demand
    + Expose layout manager properties to transitions
  * debian/patches: Refresh

  [ Simon McVittie ]
  * d/libmutter-5-0.bug-control: Include GL drivers in bug reports

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Tue, 13 Aug 2019 09:58:27 +0100

mutter (3.33.4-1) experimental; urgency=medium

  * New upstream release
    + Add API to reorder workspaces
    + Add a Sysprof-based profiler
    + Add initial KMS transactional support
    + Add xdg-output v2 support
    + Consolidate frame throttling
    + Defer actor allocation till shown
    + Discard page flip retries on hotplug
    + Don't emit ::size-changed when only position changed
    + Don't use grab modifiers when shortcuts are inhibited
    + Expose workspace layout properties
    + Fix background corruption on Nvidia after resuming from suspend (LP:
      #1809407)
    + Fix black shadows when using fractional scaling
    + Fix modifier-drag on wayland subsurfaces
    + Fix running X11 applications with sudo under wayland
    + Fix setting blank cursor under wayland
    + Fix stuttering due to unchanged power save mode notifications
    + Fix text selection color rendering
    + Handle returning from fullscreen/maximization better
    + Honor startup sequence workspace on wayland
    + Implement locate-pointer accessibility feature
    + Implement mouse accessibility
    + Implement toggle-keys notification
    + Improve finding new focus window when the old one is closed
    + Improve screencast support on multi-monitor systems
    + Make picking a new focus window more reliable
    + Only emit 'grab-op-end` signal after dropping grabs
    + Only grab the locate-pointer key when necessary
    + Pixel-align OpenGL cursors
    + Prepare for running Xwayland on demand
    + Relax "xwayland-allow-grabs" setting
    + Restore DRM format fallbacks
    + Try to use primary GPU for copy instead of glReadPixels
    + Unset pointer focus when the cursor is hidden
  * debian/control: Update dependencies per meson.build
  * debian/rules: Disable profiler.
    We need to split sysprof into a library before we can enable this, so
    that all users don't get headers / the profiler application installed
  * Drop patches applied upstream
    - window-x11-Focus-a-window-in-the-active-workspace-as-take.patch
    - metatest-Dispatch-the-destruction-instead-of-sleeping-aft.patch
    - debian/Revert-meson-Bump-meson-requirement-to-0.50.0.patch
  * cogl-tests-Only-install-run-tests.sh-when-building-instal.patch:
    Cherry-pick to fix building without installed tests
  * build-Bump-API-version-automatically-each-development-cyc.patch:
    Cherry-pick - bump ABI
  * Refresh patches
  * Bump to libmutter-5 and update symbols
  * BD on a gnome-desktop that provides libgnome-desktop-3-18

 -- Iain Lane <laney@debian.org>  Tue, 30 Jul 2019 18:16:52 +0100

mutter (3.32.2+git20190711-2) experimental; urgency=medium

  * d/p/window-x11-Focus-a-window-in-the-active-workspace-as-take.patch:
    - Fix possible crash on closing Java dialogs (Related to LP: #1834583)
    d/p/metatest-Dispatch-the-destruction-instead-of-sleeping-aft.patch:
    - Tests: don't wait too much after window destruction, causing failures

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Fri, 19 Jul 2019 16:55:02 +0100

mutter (3.32.2+git20190711-1) experimental; urgency=medium

  * New upstream snapshot up to commit ccab0f470
    - Fix No-input WM_TAKE_FOCUS dialogs causing GNOME Shell to hang
      and ensure we always have a window focused if we have a valid
      focus canididate (LP: #1834583)
    - Don't crash on shell close / reload under X11 when releasing
      surface actor display resources (LP: #1826918)
  * d/p/debian/Revert-meson-Bump-meson-requirement-to-0.50.0.patch:
    - Revert dependency on meson 0.50.0

 -- Marco Trevisan (Treviño) <marco@ubuntu.com>  Fri, 12 Jul 2019 14:11:53 +0100

# Older entries have been removed from this changelog.
# To read the complete changelog use `apt changelog mutter-11-tests`.
